<%@ Page Title="" Language="C#" MasterPageFile="~/AdminMasterPage.Master" AutoEventWireup="true" CodeBehind="RollMaster.aspx.cs" Inherits="MeetingMinder.Web.RollMaster" %>

<%@ Register TagName="Error" Src="UserControls/Error.ascx" TagPrefix="userControl" %>
<%@ Register TagName="Info" Src="UserControls/Info.ascx" TagPrefix="userControl" %>
<asp:Content ID="Content1" ContentPlaceHolderID="head" runat="server">
</asp:Content>
<asp:Content ID="Content2" ContentPlaceHolderID="ContentPlaceHolder1" runat="server">
    <script type="text/javascript">
    function ValidateCheckBox(sender, args) {
        var count = 0;
        var items = document.getElementsByTagName('input');
        for (i = 0; i < items.length; i++) {
            if (items[i].type == "checkbox") {
                if (items[i].checked) {
                    count++;
                }
            }
        }

        if (count == 0) {
            args.IsValid = false;
        }
        if (count > 0) {
            args.IsValid = true;
        }

    }

    function toggle(toggeldivid, toggeltext) {
        var divelement = document.getElementById(toggeldivid);
        var lbltext = document.getElementById(toggeltext);
        if (divelement.style.display == "block") {
            divelement.style.display = "none";
            lbltext.innerHTML = "+ Show Orders";
        }
        else {
            divelement.style.display = "block";
            lbltext.innerHTML = "- Hide Orders";
        }
    }
    </script>
     <script language="javascript" type="text/javascript">

         function fn_select_all(chkSelectAll) {
             var IsChecked = chkSelectAll.checked;
             var items = document.getElementsByTagName('input');
             for (i = 0; i < items.length; i++) {
                 if (items[i] != chkSelectAll && items[i].type == "checkbox") {
                     if (items[i].checked != IsChecked) {
                         items[i].click();
                     }
                 }
             }
         }

         function testCheckbox() {
             Parent = document.getElementById('cpMain_grdOrder');
             var headchk = document.getElementById('cpMain_grdOrder_chkHeader');
             var items = Parent.getElementsByTagName('input');
             var flg = false;
             for (i = 0; i < items.length; i++) {

                 if (items[i] != headchk && items[i].type == "checkbox") {

                     if (items[i].checked) {
                         flg = true;
                     }
                 }
             }
             if (flg) {
                 var ans = confirm("Are you sure you want to delete selected items?");
                 if (ans == true) {
                     return true;
                 }
                 else {
                     //alert("no");
                     return false;
                 }
             }
             else {
                 alert("Select item(s) to delete");
                 return false;
             }
         }
    </script>
    <article class="content-box minimizer">
			<header>			
				<h2>Role Details</h2>			
			</header>
			<section>              
				<div >
                <fieldset>
							<legend><font color="#AE432E"><b>Role list</b></font></legend>
                            <dl>
                                <div style="margin-bottom:15px">
                                      <userControl:Info ID="Info" runat="server" Visible="false" />
                                      <userControl:Error ID="Error" runat="server" Visible="false" />   
                                </div>
                                 
                               <div style="margin-bottom:15px">
                                    <img width="16" height="16" src="img/icons/icon_list_style_cross.png" alt="" style="vertical-align: middle"/> 
                                    <asp:LinkButton runat="server" ID="lbRemoveSelected" Text="Remove All Selected Record" 
                                    OnClientClick="return confirm('Are you sure you want to delete selected items?');" onclick="lbRemoveSelected_Click"  ></asp:LinkButton>
                               </div>
                               <div style="margin-bottom:15px"><asp:Label ID="lblTotalRecord" runat="server" Font-Bold="True"></asp:Label>
                               </div>  
                             <%--  <div style="margin-bottom:15px"> <asp:Label  ID="lblUser" runat="server" Text="Search User" Font-Bold="true" ></asp:Label> </div>  --%>
                                                      
                              <div style="margin-bottom:15px">
                              
                                 <asp:GridView ID="grdRoll" runat="server" AutoGenerateColumns="False" AllowSorting="true"
                                    CellPadding="0" CellSpacing="1" EmptyDataText="No Records Found" AllowPaging="True"
                                    GridLines="None" EmptyDataRowStyle-ForeColor="red" Width="100%" EmptyDataRowStyle-HorizontalAlign="Center"
                                    class="datatable" PageSize="10" DataKeyNames="RollMasterId" OnRowDeleting="grdRoll_RowDeleting"
                                 
                                    OnPageIndexChanging="grdRoll_PageIndexChanging" 
                                    onsorting="grdRoll_Sorting" onrowcommand="grdRoll_RowCommand" 
                                    onrowediting="grdRoll_RowEditing">
                                  <HeaderStyle HorizontalAlign="Center" BackColor="#AE432E" ForeColor="#F2DEDA" Font-Bold="true" />
                                  <Columns>

                                    <asp:TemplateField>
                                        <ItemStyle  HorizontalAlign="Center" />
                                        <HeaderStyle  HorizontalAlign="Center" />
                                        <HeaderTemplate>
                                            <asp:CheckBox ID="chkHeader" onclick="javascript: fn_select_all(this);" runat="server" />
                                         </HeaderTemplate>
                                        <ItemTemplate>
                                            <asp:CheckBox ID="chkSubAdmin" runat="server" />
                                        </ItemTemplate>
                                    </asp:TemplateField>

                                  
                                    <asp:TemplateField HeaderText="Sr. No.">
                                        <ItemTemplate>
                                                <%# Container.DataItemIndex + 1 %>
                                        </ItemTemplate>
                                        <ItemStyle  HorizontalAlign="Center" />
                                    </asp:TemplateField>
                                     <asp:TemplateField HeaderText="Role Name" SortExpression="RollName">
                                        <ItemTemplate>
                                        <asp:Label ID="chkRollName" runat="server" Text='<%# Eval("RollName") %>' />
                                        </ItemTemplate>
                                    </asp:TemplateField>

                                    <asp:TemplateField HeaderText="Entity Master" SortExpression="EntityMaster">
                                        <ItemTemplate>
                                        <asp:CheckBox ID="chkEntityMaster" runat="server" Checked='<%# Eval("EntityMaster") %>' />
                                        </ItemTemplate>
                                    </asp:TemplateField>


                                         <asp:TemplateField HeaderText="User Master" SortExpression="UserMaster">
                                        <ItemTemplate>
                                        <asp:CheckBox ID="chkUserMaster" runat="server" Checked='<%# Eval("UserMaster") %>' />
                                        </ItemTemplate>
                                    </asp:TemplateField>

                                         <asp:TemplateField HeaderText="Access Right Master" SortExpression="AccessRightMaster">
                                        <ItemTemplate>
                                        <asp:CheckBox ID="chkAccessMaster" runat="server" Checked='<%# Eval("AccessRightMaster") %>' />
                                        </ItemTemplate>
                                    </asp:TemplateField>
                                   
                                    <asp:TemplateField HeaderText="Approval Master" SortExpression="ApprovalMaster">
                                        <ItemTemplate>
                                        <asp:CheckBox ID="chkApprovalMaster" runat="server" Checked='<%# Eval("ApprovalMaster") %>' />
                                        </ItemTemplate>
                                    </asp:TemplateField>

                                      <asp:TemplateField HeaderText="Role Master" SortExpression="RollMaster">
                                        <ItemTemplate>
                                        <asp:CheckBox ID="chkRollMaster" runat="server" Checked='<%# Eval("RollMaster") %>' />
                                        </ItemTemplate>
                                    </asp:TemplateField>

                                      <asp:TemplateField HeaderText="Transaction" SortExpression="Transaction">
                                        <ItemTemplate>
                                        <asp:CheckBox ID="chkTransactionMaster" runat="server" Checked='<%# Eval("Transaction") %>' />
                                        </ItemTemplate>
                                    </asp:TemplateField>

                                    
                                      <asp:TemplateField HeaderText="Approval" SortExpression="Approval">
                                        <ItemTemplate>
                                        <asp:CheckBox ID="chkApproval" runat="server" Checked='<%# Eval("Approval") %>' />
                                        </ItemTemplate>
                                    </asp:TemplateField>
                                    
                                      <asp:TemplateField HeaderText="View" SortExpression="View">
                                        <ItemTemplate>
                                        <asp:CheckBox ID="chkView" runat="server" Checked='<%# Eval("View") %>' />
                                        </ItemTemplate>
                                    </asp:TemplateField>
                                    
                                      <asp:TemplateField HeaderText="Report" SortExpression="Report">
                                        <ItemTemplate>
                                        <asp:CheckBox ID="chkReport" runat="server" Checked='<%# Eval("Report") %>' />
                                        </ItemTemplate>
                                    </asp:TemplateField>

                                   <asp:TemplateField HeaderText="Action" ControlStyle-CssClass="table-actions">
                                         <ItemTemplate>
                                         <asp:ImageButton ID="lbtnEdit" CommandArgument='<%# Bind("RollMasterId") %>' ImageUrl="img/icons/actions/page_white_edit.png" 
                                                    CausesValidation="false" CommandName="Edit" Text="Edit" runat="server" ToolTip="Edit Item" />
                                            <asp:ImageButton ID="lbtnDelete" CommandArgument='<%# Bind("RollMasterId") %>' ImageUrl="img/icons/actions/page_white_delete.png" 
                                                 CausesValidation="false" CommandName="Delete" Text="Delete" runat="server" ToolTip="Delete Item" OnClientClick='return confirm("Are you sure you want to delete this entry?");' />
                                         </ItemTemplate>
                                         <ItemStyle HorizontalAlign="Center" />
                                   </asp:TemplateField>
                                 </Columns>
                                </asp:GridView>
                                 </div>

                            </dl>
                            </fieldset>
           
                     <div ID="divdetails" runat="server" style="margin-bottom:15px">
                    
                       <dt>
                                    <label>
                                    Role Name <span>*</span> :
                                    </label>
                                </dt>
                                <dd>
                                    <asp:TextBox ID="txtRollName" runat="server" MaxLength="149" Width="214px"></asp:TextBox>
                                    <asp:RequiredFieldValidator ID="rfvUser" runat="server" 
                                        class="invalid-side-note" ControlToValidate="txtRollName" Display="Dynamic" 
                                        ErrorMessage="Role Name" SetFocusOnError="True" ValidationGroup="a">Invalid</asp:RequiredFieldValidator>
                                </dd>
                               <dt><label>Masters  : </label></dt><dd >
                                <asp:CheckBox style="vertical-align:baseline" ID="chkEntityMaster" Text="&nbsp;&nbsp;Entity" runat="server" />
                                   <asp:CheckBox ID="chkUserMaster" Text="&nbsp;&nbsp;User" runat="server" />

                                    <asp:CheckBox ID="chkAccessRight" Text="&nbsp;&nbsp;Acess Rights" runat="server" />

                                       <asp:CheckBox ID="chkApprovalMaster" Text="&nbsp;&nbsp;Approval" runat="server" />

                                            <asp:CheckBox ID="chkRollMaster" Text="&nbsp;&nbsp;Roll" runat="server" />
                               </dd>
                             
                                <%--   <dt>
                                    <label>
                                  Entity Master<span>*</span> :
                                    </label>
                                </dt>
                                <dd>
                                  
                                </dd>

                                   <dt>
                                    <label>
                                    User Master <span>*</span> :
                                    </label>
                                </dt>
                                <dd >
                              
                                  
                                </dd>

                                   <dt>
                                    <label>
                                  Access Right Master <span>*</span> :
                                    </label>
                                </dt>
                                <dd>
                               
                              
                                </dd>

                                             <dt>
                                    <label>
                                    Approval Master <span>*</span> :
                                    </label>
                                </dt>
                                <dd>
                            
                                </dd>--%>
                                     <dt>
                                    <label>
                                   Transactions <%--<span>*</span> --%>:
                                    </label>
                                </dt>
                                <dd>
                               <asp:CheckBox ID="chkTransaction" Text="  Transaction"  runat="server" />
                                </dd>

                                     <dt>
                                    <label>
                                    Approvals <%-- <span>*</span>--%> :
                                    </label>
                                </dt>
                                <dd>
                               <asp:CheckBox ID="chkApproval" Text="  Approval" runat="server" />
                                </dd>

                                     <dt>
                                    <label>
                                   Views<%--<span>*</span> --%>:
                                    </label>
                                </dt>
                                <dd>
                               <asp:CheckBox ID="chkView" Text="  View" runat="server" />
                                </dd>

                                     <dt>
                                    <label>
                                     Reports <%--<span>*</span>--%> :
                                    </label>
                                </dt>
                                <dd>
                               <asp:CheckBox ID="chkReport" Text="  Report" runat="server" />
                                </dd>

                                     <dl>
                                     <asp:HiddenField ID="hdnApprovalId" runat="server" />
                                     
                                    </dl>
                                    <div id="divbutton" runat="server" style="margin-bottom:15px;margin-top:15px">
                                    <asp:Button ID="btnInsert" runat="server" Text="Save" ValidationGroup="a" onclick="btnInsert_Click1"  />
                                       <asp:Button ID="btnCancel" CausesValidation="false" runat="server" Text="Cancel" onclick="btnCancel_Click1"  />
                                    </div>
                                    </div>
                                </div>
                                </section>
                                </article>
</asp:Content>
